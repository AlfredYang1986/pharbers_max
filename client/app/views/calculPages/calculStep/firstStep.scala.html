@pageLayout.calculPanel.calculStepPanel("MAX | 添加数据") {
    <link rel="stylesheet" href="@routes.Assets.versioned("css/calcul/calculStep.css")">
} {
    <div id="firstStep" class="row">
        <div class="col-sm-1 col-lg-2"></div>
        <div class="col-sm-10">
            <div class="row">
                <div>
                    <span class="small_info">
                        This an introduction text. It has a fixed size,and a custom line height,so you can experiment
                        with it. Lorem ipsun dolor sit dask,cmodm
                    </span>
                    <br>
                    <span class="small_info">kfi dod dodo ss, ddoc smsm.</span>
                </div>
            </div>
            <div class="space-height"></div>
            <div class="row">
                <div class="col-md-6 col-xs-10">
                    <div class="file-box">
                        <div class="middle-font" onclick="toSecondStep()">CPA文件</div>
                        <div class="file-up">
                            <div><i class="fa fa-file-excel-o file-icon" aria-hidden="true"></i></div>
                            <div class="small_info">拖拽至此处上传</div>
                            <div></div>
                        </div>
                        <div class="file-road row">
                            <div class="form-group col-md-12 has-feedback" id="file">
                                <div class="input-group">
                                    <input id="cpafileLoad" type="file" style="display: none">
                                    <input class="form-control" type="text">
                                    <span class="input-group-addon file-btn" onclick="$('input[id=cpafileLoad]').click();"><i class="fa fa-folder-open"></i>
                                        选择文件</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-md-1 col-xs-2"></div>
                <div class="col-md-5 col-xs-10">
                    <div class="file-box">
                        <div class="middle-font">国药诚信文件GYCX文件</div>
                        <div class="file-up">
                            <div><i class="fa fa-file-excel-o file-icon" aria-hidden="true"></i></div>
                            <div class="small_info">拖拽至此处上传</div>
                            <div></div>
                        </div>
                        <div class="file-road row">
                            <div class="form-group col-md-12 has-feedback">
                                <div class="input-group">
                                    <input id="gycxfileLoad" type="file" style="display: none">
                                    <input class="form-control" type="text">
                                    <span class="input-group-addon file-btn" onclick="$('input[id=gycxfileLoad]').click();"><i class="fa fa-folder-open"></i>
                                        选择文件</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-1 col-lg-2"></div>
    </div>
    @*<div id="secondStep" class="row">
    <div class="col-sm-2 col-lg-4"></div>
    <div class="col-sm-8 col-lg-4">
    <div class="row">
    <div class="space-height"></div>
    <div>
    <span class="small_info">
    MAX将会把你导入的文件 &nbsp&nbsp<span>CPA：文件名</span>&nbsp&nbsp和&nbsp&nbsp<span>GYCS：文件名</span>
    </span>
    <br>
    <span class="small_info">对比过去12个月数据中&nbsp&nbsp医院数量&nbsp&nbsp产品数量&nbsp&nbsp销售额，进行可靠性检查</span>
    <br>
    <span class="small_info">此样本检查的报告将最终成为MAX可靠程度的重要参考依据。</span>
    </div>
    </div>
    <div class="row inCenParent begin-check" onclick="goSecond()" id="rotate">
    <img class="inCenChild img-responsive" src="@routes.Assets.versioned("images/calculStep/check.png")">
    </div>
    <div class="row inCenParent" id="loadInof">
    <div class="inCenChild small-font tohref" data-toggle="modal" data-target="#backCheck">输入错误文件？重新导入</div>
    </div>
    </div>
    <div class="col-sm-2 col-lg-4"></div>
    </div>*@
    @calculPages.calculStep.secondStep()
    @calculPages.calculStep.sampleResult()

} {
    @calculPages.calculStep.monthChoose()
    <script src="@routes.Assets.versioned("eachars3.0/echarts.js")"></script>
    <script>
            $(document).ready(function () {
                $('#secondStep').hide();
                $('#sampleResult').hide();
                loadMainChart(82, 'mainChart', '文档总体可信度');
                loadMainChart(18, 't-char1', '文档总体可信度');
                loadMainChart(18, 't-char2', '文档总体可信度');
                loadMainChart(18, 't-char3', '文档总体可信度');
                loadMainChart(18, 't-char4', '文档总体可信度');
                loadLineChart('t1');
                loadLineChart('t2');
                loadLineChart('t3');
                loadLineChart('t4');


            });
            var toSecondStep = function () {
                $('#firstStep').hide();
                $('#secondStep').show();
                $('.scd-img')[0].src = "@routes.Assets.versioned("images/calculStep/step2.png")";
            };
            var toSampleResult = function () {
                $('#secondStep').hide();
                $('#sampleResult').show();
            };
            var goSecond = function () {
                prograssBar(0);
                $('#loadInof').empty();
                $('#loadInof').append('<div class="inCenChild small-font">MAX正在解析您的文件...</div>')
            };

            var prograssBar = function (tips) {
                var rotate = echarts.init(document.getElementById('rotate'));

                function loading() {
                    return [{
                        value: tips,
                        itemStyle: {
                            normal: {
                                color: '#fb358a',
                                shadowBlur: 10,
                                shadowColor: '#fb358a'
                            }
                        }
                    }, {
                        value: 100 - tips,
                    }];
                }

                var option = {
                    title: {
                        text: (tips * 1) + '%',
                        x: 'center',
                        y: 'center',
                        textStyle: {
                            color: '#fb358a',
                            fontSize: 30,
                        }
                    },
                    series: [{
                        name: 'loading',
                        type: 'pie',
                        radius: ['30%', '31%'],
                        hoverAnimation: false,
                        label: {
                            normal: {
                                show: false,
                            }
                        },
                        data: loading()
                    }]
                };
                var interval = setInterval(function () {
                    if (tips == 10) {
                        $('#chooseMonth').modal('show');
                        ++tips;
                        clearInterval(interval);
                    } else if (tips == 100) {
                        clearInterval(interval);
                        toSampleResult();
                    } else {
                        ++tips;
                    }

//                    if (tips == 100) {
//                        tips = 0;
//                    } else {
//                        ++tips;
//                    }
                    rotate.setOption({
                        title: {
                            text: tips + '%'
                        },
                        series: [{
                            name: 'loading',
                            data: loading()
                        }]
                    })

                }, 100);
                rotate.setOption(option);
            };

            var chooseDate = function () {
                $('#chooseMonth').modal('hide');
                prograssBar(11);
            }

    </script>
}